# MindMergeForum

## Setup

- Clonign repository and then running npm install
- Once everything is installed - npm run dev

## User Authentication & Management

### Registration
- Firebase Auth creates user with email/password
- User gets unique Firebase UID
- Additional user data (handle, name, etc.) stored in Realtime DB: `users/{handle}`
- Structure includes: handle, uid, email, name, phone, role, createdOn

### Login
- Firebase Auth handles email/password verification
- Returns user object with UID
- App fetches additional user data from `users/{handle}`

## User Management
- Users can be searched by handle or email
- Roles can be updated: `users/{handle}/role`
- User data stored by handle for easy lookup

## Post Operations

### Creating Posts
- Stored in `posts/{postId}`
- Structure includes:
    - title, content, userId
    - likesBy: (created once the posts receives its first like)
    - comments: {empty object until the first comment is posted}
    - createdOn, lastActivityDate

### Deleting Posts
- Removes entire post node: `posts/{postId}`
- Handled atomically to prevent partial deletions

# Firebase Realtime Database Structure

This project uses Firebase Realtime Database to store and retrieve data for the application. The database is organized into two main entities: `posts` and `users`.

## Database Schema

### `posts` Collection
Each post contains the following attributes:

- `uid`: (string) Unique identifier for the post generated by Firebase.
- `title`: (string) Title of the post.
- `content`: (string) Content or body of the post.
- `createdOn`: (timestamp) Date and time when the post was created.
- `likedBy`: (array) List of user IDs (UIDs) who have liked the post.
- `comments`: (object) List of comments associated with the post, where each comment is an object with:
    - `uid`: (string) Unique identifier for the user who posted the comment.
    - `text`: (string) Content of the comment.
    - `createdOn`: (timestamp) Date and time when the comment was created.
    - `userHandle`: (string) The username/handle of the user creating the comment.

**Example structure:**
```json
{
    "posts": {
        "postId1": {
            "uid": "post123",
            "title": "Post Title",
            "content": "This is the content of the post.",
            "createdOn": "2025-02-20T12:00:00Z",
            "likedBy": ["user123", "user456"],
            "comments": {
                "commentId1": {
                    "uid": "user123",
                    "text": "This is a comment on the post.",
                    "createdOn": "2025-02-20T12:30:00Z",
                    "userHandle": "john-doe"
                }
            }
        }
    }
}
```

### `users` Collection
Each user contains the following attributes:

- `uid`: (string) Unique identifier for the user generated by Firebase.
- `handle`: (string) Username or handle chosen by the user.
- `firstName`: (string) First name of the user.
- `lastName`: (string) Last name of the user.
- `role`: (string) Role assigned to the user (e.g., `admin`, `user`, `banned`).
- `phone`: (string) Phone number of the user.
- `email`: (string) Email address of the user.
- `createdOn`: (timestamp) Date and time when the user account was created.

**Example structure:**
```json
{
    "users": {
        "userHandle": {
            "uid": "user123",
            "handle": "john_doe",
            "firstName": "John",
            "lastName": "Doe",
            "role": "admin",
            "phone": "+123456789",
            "email": "johndoe@example.com",
            "createdOn": "2025-02-18T08:45:00Z"
        }
    }
}
```

## Key Features
- Real-time synchronization using Firebase listeners
- Hierarchical data structure for efficient queries
- Role-based access control
- Timestamp tracking for all activities

## Security

- We have created a .env file where we store all sensitive information related to the database
- This file is local for every developer and is generally added to the .gitignore so that no unauthorized user can have full db access
- For the purpose of this project, we have added the env file to the repository

## GIT

- We used GIT Issues board to structure all tasks
- Georgi used a separate branch for personal development purposes but the majority of commits are located in one main branch

## Visual representation

- This project fully utilizes CSS for the visual aspect. Initially we went for Chakra UI but since it was pretty late in the development cycle, we scrapped the idea and used AI to analyze screenshots of the Chakra design we achieved so far and help us convert that into CSS of the same caliber.

## Main responsibilities for each team member

- Radoslav Kalushkov - Implementing authentication - Login, Home, Register, Profile editing, Profile page, Admin functionalities, Overall application structure guidelines - strong inspiration from the Not A Twitter Demos
- Georgi Popov - Visual representation of the app, implementing sorting functionality, profile photo and Firebase storage utilization
- Maria Mutafova - Creating posts, Single post component, comments (adding, deleting, editing) and likes for the posts

## Missing features

-Tags for each post